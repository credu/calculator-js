var S=Object.defineProperty;var p=(n,e,t)=>e in n?S(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var l=(n,e,t)=>(p(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();const i={ADDITION:"+",SUBSTRACTION:"-",MULTIPLICATION:"x",DIVISION:"รท"},m=[i.ADDITION,i.SUBSTRACTION,i.MULTIPLICATION,i.DIVISION],u=m.join("\\"),O=new RegExp(`[${u}]`,"g"),g=new RegExp(`([${u}])([${u}])`,"g"),y=new RegExp(`[^\\d\\${u}]`,"g"),T=n=>{if(n=n.replace(/[.\s]/g,""),n.startsWith(i.SUBSTRACTION))n="0"+n;else if(m.includes(n[0]))throw new Error("The operation can't init with multiplication or division symbols.");if(g.test(n))throw new Error("Symbols repeated.");if(m.includes(n.at(-1))&&(n=n.slice(0,-1)),y.test(n))throw new Error("Symbol not allowed.");return n},N=n=>{n=T(n);const e=n.split("").filter(isNaN),t=n.split(O).map(Number);let r=0,s=e.length===0&&t[0]?t[0]:"0";for(;e.length!=0;)e.includes(i.DIVISION)?(r=e.findIndex(o=>o===i.DIVISION),s=t[r]/t[r+1]):e.includes(i.MULTIPLICATION)?(r=e.findIndex(o=>o===i.MULTIPLICATION),s=t[r]*t[r+1]):e.includes(i.ADDITION)?(r=e.findIndex(o=>o===i.ADDITION),s=t[r]+t[r+1]):e.includes(i.SUBSTRACTION)&&(r=e.findIndex(o=>o===i.SUBSTRACTION),s=t[r]-t[r+1]),e.splice(r,1),t.splice(r,1),t[r]=s;return String(s)};class x{constructor(e,t,r){l(this,"history",[]);l(this,"_operation","0");l(this,"_result","0");this.DOMHistory=e,this.DOMoperation=t,this.DOMResult=r}updateHistoryContainer(){this.DOMHistory.innerHTML=this.history.map(e=>{const t=document.createElement("span");return t.innerText=e,t.outerHTML}).join(`
`)}reset(){this.operation="0",this.result="0"}calculate(){this.operation=this.result}get operation(){return this._operation}get result(){return this._result}set operation(e){this._operation=e,this.DOMoperation.textContent=e,this.result=N(e)}set result(e){this._result=e,this.DOMResult.textContent=e}}window.matchMedia("(prefers-color-scheme: dark)");const I=document.documentElement.dataset,d=["light","dark"],h=(n,e=!0)=>{const t=n?d[1]:d[0];I.theme=t,e&&localStorage.setItem("theme",t)},C=()=>{h(I.theme!==d[1])},M=()=>{localStorage.getItem("theme")===d[1]?h(!0,!1):!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches&&h(!0)},D=document.querySelector(".history-container"),c=document.querySelector("#operation"),b=document.querySelector("#result"),L=document.querySelectorAll(".btn.btn-input"),w=document.querySelector("#btn-reset"),A=document.querySelector("#btn-result"),f=new x(D,c,b);M();document.querySelector("#darkmode-selector").addEventListener("click",()=>{C()});L.forEach(n=>{n.addEventListener("click",e=>{const t=e.target.textContent;c.textContent==="0"&&!isNaN(t)?c.textContent=t:["รท","x","-","+"].includes(c.textContent.at(-1))&&isNaN(t)?c.textContent=c.textContent.slice(0,c.textContent.length-1)+t:c.textContent+=t,f.operation=c.textContent})});w.addEventListener("click",()=>f.reset());A.addEventListener("click",()=>f.calculate());
